<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="insurance/layout/basic">
	<th:block layout:fragment="title">
		<title> 회원가입 페이지 </title>
	</th:block>

	<th:block layout:fragment="content">
		<div class="card-content">
			<form class="form-horizontal" th:action="@{/membership/register.do}" th:object="${membership}" method="post" onsubmit="return registerMembership(this)">
			
			<!-- /* update의 경우 서버로 전달할 게시글 번호(PK) */ -->
			<input type="hidden" th:if="*{userIdx != null and userIdx > 0}" th:field="*{userIdx}" />
			
			<!-- 사용자 아이디 -->
			<div class="form-group">
				<label for="userId" class="col-sm-2 control-label"> 아이디 </label>
				<div class="col-sm-10">
					<input type="text" th:field="*{userId}" class="form-co+ntrol" placeholder="사용자 아이디를 입력해주세요." />
				</div>
			</div>
			
			<!-- 사용자 비밀번호 -->
			<div class="form-group">
				<label for="userPw" class="col-sm-2 control-label"> 비밀번호 </label>
				<div class="col-sm-10">
					<input type="password" th:field="*{userPw}" class="form-control" placeholder="사용자 비밀번호를 입력해주세요." />
				</div>
			</div>
			
			<!-- 사용자 이메일 -->
			<div class="form-group">
				<label for="userEmail" class="col-sm-2 control-label"> 이메일 </label>
				<div class="col-sm-10">
					<input type="email" th:field="*{userEmail}" class="form-control" placeholder="[선택] 이메일주소" />
				</div>
			</div>
			
			<!-- 사용자 이름 -->
			<div class="form-group">
				<label for="userName" class="col-sm-2 control-label"> 이름 </label>
				<div class="col-sm-10">
					<input type="text" th:field="*{userName}" class="form-control" placeholder="사용자 이름을 입력해주세요." />
				</div>
			</div>
			
			<!-- 사용자 생년월일 -->
			<div class="form-group">
				<label for="userBirth" class="col-sm-2 control-label"> 생년월일 </label>
				<div class="col-sm-10">
					<input type="number" th:field="*{userBirth}" class="form-control" placeholder="생년월일 6자리를 입력해주세요." />
				</div>
			</div>
			
			<!-- 사용자 성별 -->
			<div class="form-group">
				<label for="userGender" class="col-sm-2 control-label"> 사용자 성별 </label>
					<select th:field="*{userGender}" name="insType" size="1"> 
					    <option value="M"> 남자 </option>
					    <option value="F"> 여자 </option>
					</select>                          
			</div>
		
			<!-- 사용자 연락처 -->
			<div class="form-group">
				<label for="userPhone]" class="col-sm-2 control-label"> 연락처 </label>
				<div class="col-sm-10">
					<input type="text" th:field="*{userPhone}" class="form-control" placeholder="사용자 연락처를 입력해주세요." />
				</div>
			</div>
			
			<div class="btn_wrap text-center">
			    <!-- 뒤로가기 버튼을 눌렀을 때 로그인 페이지로 이동한다 -->
				<a th:href="@{/membership/login.do}" class="btn btn-default waves-effect waves-light"> 뒤로가기 </a>
				<button type="submit" class="btn btn-primary waves-effect waves-light"> 회원가입 </button>
			</div>
		    </form>
		</div>
	</th:block>
	
	<th:block layout:fragment="script">
		<script th:inline="javascript">
			/*<![CDATA[*/
			
			function registerMembership(form)
			{
				var result = (
							   isValid(form.userId, "아이디", null, null)
							&& isValid(form.userPw, "비밀번호", null, null)
							&& isValid(form.userEmail, "이메일", null, null)
							&& isValid(form.userName, "이름", null, null)
							&& isValid(form.userBirth, "생년월일", null, null)
							&& isValid(form.userGender, "성별", null, null)
							&& isValid(form.userPhone, "연락처", null, null)
							 );
							 
							 if ( result == false)
							 {
							 	return false;
							 }
			}
			/*[- end of function -]*/
			
			/*]]>*/
		</script>
</html>